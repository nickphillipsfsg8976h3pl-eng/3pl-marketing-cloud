{
    "kind": "discovery#restDescription",
    "id": "device:v1",
    "name": "device",
    "version": "v1",
    "title": "Device Service",
    "description": "Provides device functionality",
    "protocol": "rest",
    "basePath": "deviceservice",
    "methods": {
        "discovery": {
            "path": "rest",
            "httpMethod": "get",
            "description": "Returns discovery document",
            "parameters": {}
        },
        "postRegistration": {
            "path": "registration",
            "httpMethod": "post",
            "description": "Creates a new Registration",
            "parameters": {
                "device_token": "required, string containing the device token for the app.",
                "platform": "required, string equal to 'iPhone OS', 'iPad OS', or 'Android'.",
                "deviceid": "required, unique id for the device.",
                "etappid": "required, the unique ID of the app registered with ExactTarget.",
                "platform_version": "optional, the version of the platform/OS",
                "sdk_version": "optional, the version of the SDK",
                "app_version": "optional, the version of the application",
                "seconds_in_app": "optional, the cumulative number of seconds the user has spent in the application.",
                "message_id": "optional, the ID of the message from which the user opened the application",
                "device_alias": "optional, an alias for the device.",
                "email": "optional, email address of the app user captured by the app.",
                "phone": "optional, mobile phone number of the app user captured by the app.",
                "badge": "optional, badge number displayed on the app icon in the launchpad.",
                "timezone": "optional, the timezone as set by the app.",
                "dst": "optional, boolean indicating whether or not DST is honored.",
                "quiettime": "optional, a period when no push messages should be delivered to the user as specified by a begin and end time captured by the app.",
                "provider_token": "optional, string containing the provider token for the app.",
                "subscriberkey": "optional, string containing the subscriber key for the user as captured/provided by the application.",
                "push_enabled": "optional, boolean indicating whether or not push is enabled for the device. If omitted, we assume push_enabled = true.",
                "tags": "optional, an array of strings representing meta data used for labeling groups of devices for general segmentation.",
                "attributes": "optional, generic key/value store used by the app to set segmentation and attribute meta data."
            }
        },
        "postLocation": {
            "path": "location/{applicationId}",
            "httpMethod": "post",
            "description": "Records a device location",
            "parameters": {
                "deviceid": "string, required, unique id for the device.",
                "latitude": "double, required, the latitude of the device.",
                "longitude": "double, required, the longitude of the device.",
                "accuracy": "int, required, the accuracy of the location data, in meters.",
                "location_datetime_utc": "string, optional, the time the location data was recorded on the device, in ISO 8601 UTC format. If not provided, current time is used"
            }
        },
        "getLocationFences": {
            "path": "location/{applicationId}/fence",
            "httpMethod": "get",
            "description": "Retrieves geofence definitions for a location",
            "parameters": {
                "deviceid": "string, required, unique id for the device.",
                "lat": "double, required, the latitude of the device.",
                "long": "double, required, the longitude of the device."
            }
        },
        "getLocationMessageValidity": {
            "path": "location/{applicationId}/fence/{fenceId}/message/{messageId}",
            "httpMethod": "get",
            "description": "Checks whether a message is valid for a given fence",
            "parameters": {
                "modifiedDate": "string, optional, the time the message was last retrieved on the device, in ISO 8601 UTC format."
            }
        },
        "getLocationProximities": {
            "path": "location/{applicationId}/proximity",
            "httpMethod": "get",
            "description": "Retrieves proximity definitions for a location",
            "parameters": {
                "deviceid": "string, required, unique id for the device.",
                "lat": "double, required, the latitude of the device.",
                "long": "double, required, the longitude of the device."
            }
        },
        "getLocationProximityMessageValidity": {
            "path": "location/{applicationId}/proximity/{proximityId}/message/{messageId}",
            "httpMethod": "get",
            "description": "Checks whether a message is valid for a given fence",
            "parameters": {
                "modifiedDate": "string, optional, the time the message was last retrieved on the device, in ISO 8601 UTC format."
            }
        },
        "getDeviceMessages": {
            "path": "{applicationId}/message",
            "httpMethod": "get",
            "description": "Retrieves messages for a device",
            "parameters": {
                "deviceid": "string, required, unique id for the device.",
                "messagetype": "int, optional, the type of the message.",
                "contenttype": "int, optional, the content type of the message."
            }
        },
        "patchPushAppMessage": {
            "path": "{applicationId}/message/{messageId}",
            "httpMethod": "patch",
            "description": "Records message actions for a single message"
        },
        "patchPushAppMessageCollection": {
            "path": "{applicationId}/message",
            "httpMethod": "patch",
            "description": "Records message actions for messages"
        },
        "postAnalytics": {
            "path": "analytics/{applicationId}",
            "httpMethod": "post",
            "description": "Records analytics data for a device",
            "parameters": {
                "deviceId": "string, required, unique id for the device.",
                "fenceId": "string, optional, ID of the fence if the message was triggered by a fence entry/exit.",
                "messageId": "string, optional, ID of the message associated with the statistic.",
                "secondsInApp": "int, optional, umber of seconds the user has been actively using the application since last analytics/registration call. Not cumulative.",
                "openDatetimeUtc": "string, optional, date/time the app was opened directly from the message, in ISO 8601 UTC format.",
                "displayedDatetimeUtc": "string, optional, date/time the message was shown on the device, in ISO 8601 UTC format. Represented as \"sent\" in the IMH UI.",
                "messageType": "int, optional, message type used to classify geofence messages."
            }
        },
        "postPushSyncCollection": {
            "path": "{applicationId}/sync/{deviceId}",
            "httpMethod": "post",
            "description": "Updates and retrieves sync-nodes for a device",
            "parameters": {
                "applicationId": "string, required, application id for the device.",
                "deviceid": "string, required, unique id for the device."
            }
        },
        "postAnalyticEvent": {
            "path": "event/analytic",
            "httpMethod": "post",
            "description": "Records analytic events for a device"
        }
    },
    "key": "Device"
}
